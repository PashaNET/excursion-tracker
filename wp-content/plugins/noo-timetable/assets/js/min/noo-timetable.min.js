function htmlEscape(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace("|","<span>").replace("~","</span>").replace(/\n/g,"<br />")}function setTodayListView(){jQuery(".fc-list-heading").each(function(e,t){var n=jQuery(t),r=n.data("date");(r=moment(r).format("YYYY-MM-DD"))===moment().format("YYYY-MM-DD")&&n.find(".fc-widget-header").addClass("fc-today")})}function holidayRestyle(){[].forEach.call(document.querySelectorAll(".fc-noo-class-holiday"),function(e){parseFloat(e.clientHeight);var t=parseFloat(e.clientWidth),n=parseFloat(e.closest(".fc-row").clientHeight),r=e.closest("table").firstChild;parseFloat(r.clientHeight);r.style.position="relative",r.style.zIndex="5",e.style.position="absolute",e.style.zIndex="98",e.style.margin=0,e.style.padding=0,e.style.top=0,e.style.height=n-2+"px",e.style.width=t+1+"px"})}function ModalEffectsInit(){[].forEach.call(document.querySelectorAll(".md-trigger"),function(i){function a(){var e;e=classie.has(i,"md-setperspective"),classie.remove(c,"md-show"),e&&classie.remove(document.documentElement,"md-perspective")}var c=document.querySelector("#"+i.getAttribute("data-modal"));if(!c)return!1;var e=c.querySelector(".md-close");i.addEventListener("click",function(e){var t,n;e.preventDefault(),classie.add(c,"md-show"),jQuery(c).next().unbind("click",a),jQuery(c).next().bind("click",a),classie.has(i,"md-setperspective")&&setTimeout(function(){classie.add(document.documentElement,"md-perspective")},25),$input=jQuery(i).find('[type="hidden"]').val(),$event=jQuery.extend({},JSON.parse($input)),"undefined"===$event.excerpt?$event.excerpt="":$event.excerpt=(t=$event.excerpt,(n=document.createElement("textarea")).innerHTML=t,n.value),void 0!==$event.categoryName&&""!==$event.categoryName?jQuery(c).find("h3").text($event.categoryName).css("background",$event.catColor).css("color","#fff").css("opacity","1").css("display","block"):jQuery(c).find("h3").css("display","none"),null!=$event.popup_bgImage?jQuery(c).find(".fc-thumb").css("background-image","url("+$event.popup_bgImage+")"):jQuery(c).find(".fc-thumb").css("background-image","none");var r=jQuery(i).find(".fc-time").text();""===r&&(r=jQuery(i).find(".fc-list-item-time").text()),jQuery(c).find(".fc-time").text(r),"undefined"===$event.url||""===$event.url?jQuery(c).find(".fc-title a").attr("href","#").attr("onclick","return false"):jQuery(c).find(".fc-title a").attr("href",$event.url),null!=$event.title?jQuery(c).find(".fc-title a").text($event.title):jQuery(c).find(".fc-title a").text(""),null!=$event.trainer?jQuery(c).find(".fc-trainer").html($event.trainer):jQuery(c).find(".fc-trainer").html(""),null!=$event.level?jQuery(c).find(".fc-level").html($event.level):jQuery(c).find(".fc-level").html(""),null!=$event.address?jQuery(c).find(".fc-address").html($event.address):jQuery(c).find(".fc-address").html(""),null!=$event.excerpt?jQuery(c).find(".fc-excerpt").html($event.excerpt):jQuery(c).find(".fc-excerpt").html(""),"undefined"===$event.register_link||""===$event.register_link?(jQuery(c).find(".fc-register a").attr("href","#").attr("onclick","return false"),jQuery(c).find(".fc-register").css("display","none")):jQuery(c).find(".fc-register a").attr("href",$event.register_link),jQuery(c).removeClass("event-content"),classie.has(i,"fc-noo-event")?(jQuery(c).addClass("event-content"),jQuery(c).find(".fc-thumb").hide(),jQuery(c).find(".div_content").addClass("overlay").css("background-image","url("+$event.popup_bgImage+")")):(jQuery(c).find(".fc-thumb").show(),jQuery(c).find(".div_content").removeClass("overlay").css("background-image","none")),e.preventDefault()}),e.addEventListener("click",function(e){e.stopPropagation(),a()})})}